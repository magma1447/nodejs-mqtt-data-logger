<html>
	<head>
		<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
		<script src="https://code.highcharts.com/highcharts.js"></script>
		<script src="https://code.highcharts.com/modules/exporting.js"></script>
		<script src="https://code.highcharts.com/modules/export-data.js"></script>
	</head>
	<body>
		<div id="container" style="width:100%; height:400px;"></div>
	</body>

	<script>

		chart1 = Highcharts.chart('container', {
			chart: {
				type: 'column',
			},
			title: {
				text: 'Hourly data',
			},
			xAxis: {
				type: 'datetime',
			},
			// plotOptions: {
			// 	spline: {
			// 		marker: {
			// 			enabled: true,
			// 		},
			// 	},
			// },
			tooltip: {
				headerFormat: '<b>{series.name}</b><br>',
				pointFormat: '{point.x:%Y-%m-%d} {point.x:%H:xx}<br>{point.y:.2f} kWh',
			},
			exporting: {
				enabled: true,
			},
		});

		$(document).ready(function() {
			$.getJSON('/ajax/gethourlydata', function(data) {
				$.each(data, function(topic, data) {
					chart1.addSeries({ name: topic, data: data });
				});
			});
		});

	</script>
</html>

